package br.edu.ufrgs.inf.bpm;


import br.edu.ufrgs.inf.bpm.builder.TextGenerator;
import br.edu.ufrgs.inf.bpm.wrapper.BpmnXmlWrapper;
import br.edu.ufrgs.inf.bpm.wrapper.ProcessModelXmlBuilder;
import net.didion.jwnl.JWNLException;
import org.camunda.bpm.model.bpmn.instance.*;
import processToText.dataModel.process.ProcessModel;

import java.io.IOException;

public class TestBpmnXml {
    public static void main(String[] args) {

        String bpmnString = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><definitions id=\"definitions_d42de9d3-f4c6-41a2-9d7b-4ff9099f814d\" targetNamespace=\"http://camunda.org/examples\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\">  <collaboration id=\"Collaboration-Collaboration\">    <participant id=\"Participant-pa967546145\" name=\"Pool\" processRef=\"Process-po967546145\"/>  </collaboration>  <process id=\"Process-po967546145\" name=\"Pool\">    <laneSet id=\"LaneSet-l967546145\">      <lane id=\"Lane-1314164036\" name=\"small company\"/>      <lane id=\"Lane-1266464714\" name=\"sales department\"/>      <lane id=\"Lane-1916095351\" name=\"member of the sales department\"/>      <lane id=\"Lane-1546502432\" name=\"storehouse\"/>      <lane id=\"Lane-69325229\" name=\"engineering department\"/>      <lane id=\"Lane-1052662997\" name=\"sales department ships\"/>    </laneSet>    <task id=\"Task-866522827\" name=\"manufacture customized bicycles\">      <incoming>SequenceFlow-StartEvent-1469060098-Task-866522827</incoming>      <outgoing>SequenceFlow-Task-866522827-Task-85810223</outgoing>    </task>    <task id=\"Task-85810223\" name=\"receive an order\">      <incoming>SequenceFlow-Task-866522827-Task-85810223</incoming>      <outgoing>SequenceFlow-Task-85810223-Task-1785723687</outgoing>    </task>    <task id=\"Task-1785723687\" name=\"create a new process instance\">      <incoming>SequenceFlow-Task-85810223-Task-1785723687</incoming>      <outgoing>SequenceFlow-Task-1785723687-ExclusiveGateway-1908015825</outgoing>    </task>    <task id=\"Task-208478985\" name=\"reject the order\">      <incoming>SequenceFlow-ExclusiveGateway-1908015825-Task-208478985</incoming>      <outgoing>SequenceFlow-Task-208478985-ExclusiveGateway-867211567</outgoing>    </task>    <task id=\"Task-422274822\" name=\"accept the order\">      <incoming>SequenceFlow-ExclusiveGateway-1908015825-Task-422274822</incoming>      <outgoing>SequenceFlow-Task-422274822-ExclusiveGateway-867211567</outgoing>    </task>    <task id=\"Task-712368745\" name=\"finish the process instance in the former case\">      <incoming>SequenceFlow-ExclusiveGateway-867211567-Task-712368745</incoming>      <outgoing>SequenceFlow-Task-712368745-Task-1868739380</outgoing>    </task>    <task id=\"Task-1868739380\" name=\"inform the storehouse in the latter case\">      <incoming>SequenceFlow-Task-712368745-Task-1868739380</incoming>      <outgoing>SequenceFlow-Task-1868739380-Task-205099764</outgoing>    </task>    <task id=\"Task-205099764\" name=\"inform the engineering department in the latter case\">      <incoming>SequenceFlow-Task-1868739380-Task-205099764</incoming>      <outgoing>SequenceFlow-Task-205099764-Task-715064774</outgoing>    </task>    <task id=\"Task-715064774\" name=\"process the part list of the order\">      <incoming>SequenceFlow-Task-205099764-Task-715064774</incoming>      <outgoing>SequenceFlow-Task-715064774-Task-978865634</outgoing>    </task>    <task id=\"Task-978865634\" name=\"check the required quantity of part\">      <incoming>SequenceFlow-Task-715064774-Task-978865634</incoming>      <outgoing>SequenceFlow-Task-978865634-ExclusiveGateway-280350908</outgoing>    </task>    <task id=\"Task-314292563\" name=\"reserve part\">      <incoming>SequenceFlow-ExclusiveGateway-280350908-Task-314292563</incoming>      <outgoing>SequenceFlow-Task-314292563-ExclusiveGateway-167718058</outgoing>    </task>    <task id=\"Task-1496038161\" name=\"part is back-ordered\">      <incoming>SequenceFlow-ExclusiveGateway-280350908-Task-1496038161</incoming>      <outgoing>SequenceFlow-Task-1496038161-ExclusiveGateway-167718058</outgoing>    </task>    <task id=\"Task-268066230\" name=\"repeat procedure\">      <incoming>SequenceFlow-ParallelGateway-1573322401-Task-268066230</incoming>      <outgoing>SequenceFlow-Task-268066230-ParallelGateway-731103879</outgoing>    </task>    <task id=\"Task-1677033270\" name=\"prepare everything for assembling the of the ordered bicycle in the meantime\">      <incoming>SequenceFlow-ParallelGateway-1573322401-Task-1677033270</incoming>      <outgoing>SequenceFlow-Task-1677033270-ParallelGateway-731103879</outgoing>    </task>    <task id=\"Task-1083191282\" name=\"back \">      <incoming>SequenceFlow-ExclusiveGateway-1754505528-Task-1083191282</incoming>      <outgoing>SequenceFlow-Task-1083191282-ExclusiveGateway-1015995306</outgoing>    </task>    <task id=\"Task-942972280\" name=\"finish \">      <incoming>SequenceFlow-ExclusiveGateway-1015995306-Task-942972280</incoming>      <outgoing>SequenceFlow-Task-942972280-Task-1255591780</outgoing>    </task>    <task id=\"Task-1255591780\" name=\"assemble the bicycle\">      <incoming>SequenceFlow-Task-942972280-Task-1255591780</incoming>      <outgoing>SequenceFlow-Task-1255591780-Task-1203786853</outgoing>    </task>    <task id=\"Task-1203786853\" name=\"finish the process instance\">      <incoming>SequenceFlow-Task-1255591780-Task-1203786853</incoming>      <outgoing>SequenceFlow-Task-1203786853-EndEvent-1029395899</outgoing>    </task>    <exclusiveGateway id=\"ExclusiveGateway-1908015825\">      <incoming>SequenceFlow-Task-1785723687-ExclusiveGateway-1908015825</incoming>      <outgoing>SequenceFlow-ExclusiveGateway-1908015825-Task-208478985</outgoing>      <outgoing>SequenceFlow-ExclusiveGateway-1908015825-Task-422274822</outgoing>    </exclusiveGateway>    <exclusiveGateway id=\"ExclusiveGateway-867211567\">      <incoming>SequenceFlow-Task-208478985-ExclusiveGateway-867211567</incoming>      <incoming>SequenceFlow-Task-422274822-ExclusiveGateway-867211567</incoming>      <outgoing>SequenceFlow-ExclusiveGateway-867211567-Task-712368745</outgoing>    </exclusiveGateway>    <exclusiveGateway id=\"ExclusiveGateway-280350908\">      <incoming>SequenceFlow-Task-978865634-ExclusiveGateway-280350908</incoming>      <outgoing>SequenceFlow-ExclusiveGateway-280350908-Task-314292563</outgoing>      <outgoing>SequenceFlow-ExclusiveGateway-280350908-Task-1496038161</outgoing>    </exclusiveGateway>    <exclusiveGateway id=\"ExclusiveGateway-167718058\">      <incoming>SequenceFlow-Task-1496038161-ExclusiveGateway-167718058</incoming>      <incoming>SequenceFlow-Task-314292563-ExclusiveGateway-167718058</incoming>      <outgoing>SequenceFlow-ExclusiveGateway-167718058-ParallelGateway-1573322401</outgoing>    </exclusiveGateway>    <parallelGateway id=\"ParallelGateway-1573322401\">      <incoming>SequenceFlow-ExclusiveGateway-167718058-ParallelGateway-1573322401</incoming>      <outgoing>SequenceFlow-ParallelGateway-1573322401-Task-268066230</outgoing>      <outgoing>SequenceFlow-ParallelGateway-1573322401-Task-1677033270</outgoing>    </parallelGateway>    <parallelGateway id=\"ParallelGateway-731103879\">      <incoming>SequenceFlow-Task-268066230-ParallelGateway-731103879</incoming>      <incoming>SequenceFlow-Task-1677033270-ParallelGateway-731103879</incoming>      <outgoing>SequenceFlow-ParallelGateway-731103879-ExclusiveGateway-1754505528</outgoing>    </parallelGateway>    <exclusiveGateway id=\"ExclusiveGateway-1754505528\">      <incoming>SequenceFlow-ParallelGateway-731103879-ExclusiveGateway-1754505528</incoming>      <outgoing>SequenceFlow-ExclusiveGateway-1754505528-Task-1083191282</outgoing>      <outgoing>SequenceFlow-ExclusiveGateway-1754505528-ExclusiveGateway-1015995306</outgoing>    </exclusiveGateway>    <exclusiveGateway id=\"ExclusiveGateway-1015995306\">      <incoming>SequenceFlow-Task-1083191282-ExclusiveGateway-1015995306</incoming>      <incoming>SequenceFlow-ExclusiveGateway-1754505528-ExclusiveGateway-1015995306</incoming>      <outgoing>SequenceFlow-ExclusiveGateway-1015995306-Task-942972280</outgoing>    </exclusiveGateway>    <startEvent id=\"StartEvent-1469060098\">      <outgoing>SequenceFlow-StartEvent-1469060098-Task-866522827</outgoing>    </startEvent>    <endEvent id=\"EndEvent-1029395899\">      <incoming>SequenceFlow-Task-1203786853-EndEvent-1029395899</incoming>    </endEvent>    <sequenceFlow id=\"SequenceFlow-Task-866522827-Task-85810223\" sourceRef=\"Task-866522827\" targetRef=\"Task-85810223\"/>    <sequenceFlow id=\"SequenceFlow-Task-85810223-Task-1785723687\" sourceRef=\"Task-85810223\" targetRef=\"Task-1785723687\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-1908015825-Task-208478985\" sourceRef=\"ExclusiveGateway-1908015825\" targetRef=\"Task-208478985\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-1908015825-Task-422274822\" sourceRef=\"ExclusiveGateway-1908015825\" targetRef=\"Task-422274822\"/>    <sequenceFlow id=\"SequenceFlow-Task-1785723687-ExclusiveGateway-1908015825\" sourceRef=\"Task-1785723687\" targetRef=\"ExclusiveGateway-1908015825\"/>    <sequenceFlow id=\"SequenceFlow-Task-208478985-ExclusiveGateway-867211567\" sourceRef=\"Task-208478985\" targetRef=\"ExclusiveGateway-867211567\"/>    <sequenceFlow id=\"SequenceFlow-Task-422274822-ExclusiveGateway-867211567\" sourceRef=\"Task-422274822\" targetRef=\"ExclusiveGateway-867211567\"/>    <sequenceFlow id=\"SequenceFlow-Task-712368745-Task-1868739380\" sourceRef=\"Task-712368745\" targetRef=\"Task-1868739380\"/>    <sequenceFlow id=\"SequenceFlow-Task-1868739380-Task-205099764\" sourceRef=\"Task-1868739380\" targetRef=\"Task-205099764\"/>    <sequenceFlow id=\"SequenceFlow-Task-205099764-Task-715064774\" sourceRef=\"Task-205099764\" targetRef=\"Task-715064774\"/>    <sequenceFlow id=\"SequenceFlow-Task-715064774-Task-978865634\" sourceRef=\"Task-715064774\" targetRef=\"Task-978865634\"/>    <sequenceFlow id=\"SequenceFlow-Task-978865634-ExclusiveGateway-280350908\" sourceRef=\"Task-978865634\" targetRef=\"ExclusiveGateway-280350908\"/>    <sequenceFlow id=\"SequenceFlow-Task-1496038161-ExclusiveGateway-167718058\" sourceRef=\"Task-1496038161\" targetRef=\"ExclusiveGateway-167718058\"/>    <sequenceFlow id=\"SequenceFlow-Task-314292563-ExclusiveGateway-167718058\" sourceRef=\"Task-314292563\" targetRef=\"ExclusiveGateway-167718058\"/>    <sequenceFlow id=\"SequenceFlow-ParallelGateway-1573322401-Task-268066230\" sourceRef=\"ParallelGateway-1573322401\" targetRef=\"Task-268066230\"/>    <sequenceFlow id=\"SequenceFlow-ParallelGateway-1573322401-Task-1677033270\" sourceRef=\"ParallelGateway-1573322401\" targetRef=\"Task-1677033270\"/>    <sequenceFlow id=\"SequenceFlow-Task-268066230-ParallelGateway-731103879\" sourceRef=\"Task-268066230\" targetRef=\"ParallelGateway-731103879\"/>    <sequenceFlow id=\"SequenceFlow-Task-1677033270-ParallelGateway-731103879\" sourceRef=\"Task-1677033270\" targetRef=\"ParallelGateway-731103879\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-1754505528-Task-1083191282\" sourceRef=\"ExclusiveGateway-1754505528\" targetRef=\"Task-1083191282\"/>    <sequenceFlow id=\"SequenceFlow-Task-1083191282-ExclusiveGateway-1015995306\" sourceRef=\"Task-1083191282\" targetRef=\"ExclusiveGateway-1015995306\"/>    <sequenceFlow id=\"SequenceFlow-Task-942972280-Task-1255591780\" sourceRef=\"Task-942972280\" targetRef=\"Task-1255591780\"/>    <sequenceFlow id=\"SequenceFlow-Task-1255591780-Task-1203786853\" sourceRef=\"Task-1255591780\" targetRef=\"Task-1203786853\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-867211567-Task-712368745\" sourceRef=\"ExclusiveGateway-867211567\" targetRef=\"Task-712368745\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-167718058-ParallelGateway-1573322401\" sourceRef=\"ExclusiveGateway-167718058\" targetRef=\"ParallelGateway-1573322401\"/>    <sequenceFlow id=\"SequenceFlow-ParallelGateway-731103879-ExclusiveGateway-1754505528\" sourceRef=\"ParallelGateway-731103879\" targetRef=\"ExclusiveGateway-1754505528\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-1015995306-Task-942972280\" sourceRef=\"ExclusiveGateway-1015995306\" targetRef=\"Task-942972280\"/>    <sequenceFlow id=\"SequenceFlow-StartEvent-1469060098-Task-866522827\" sourceRef=\"StartEvent-1469060098\" targetRef=\"Task-866522827\"/>    <sequenceFlow id=\"SequenceFlow-Task-1203786853-EndEvent-1029395899\" sourceRef=\"Task-1203786853\" targetRef=\"EndEvent-1029395899\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-280350908-Task-314292563\" name=\"the part is available \" sourceRef=\"ExclusiveGateway-280350908\" targetRef=\"Task-314292563\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-280350908-Task-1496038161\" name=\"part is not  available \" sourceRef=\"ExclusiveGateway-280350908\" targetRef=\"Task-1496038161\"/>    <sequenceFlow id=\"SequenceFlow-ExclusiveGateway-1754505528-ExclusiveGateway-1015995306\" name=\"the storehouse reserves  \" sourceRef=\"ExclusiveGateway-1754505528\" targetRef=\"ExclusiveGateway-1015995306\"/>  </process></definitions>";

        ProcessModelXmlBuilder processModelXmlBuilder = new ProcessModelXmlBuilder();
        ProcessModel processModel = processModelXmlBuilder.buildProcess(bpmnString);

        // processModel.print();

        String text = "";
        try {
            text = TextGenerator.generateText(processModel, 0);
        } catch (IOException | JWNLException e) {
            e.printStackTrace();
        }
        System.out.println("Text: " + text);
    }
}
